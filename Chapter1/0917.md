### 2.4 도커파일

- 도커파일: 완성된 이미지를 생성하기 위해 컨테이너에 설치해야하는 패키지, 추가해야하는 소스코드, 실행해야하는 명령어와 셸 스크립트 등을 하나의 파일에 기록된 파일
이러한 도커파일을 실행하는 명령어가 build 명령어
컨테이너에서 작업을 마치고 이미지로 커밋하는 것보다 이미지의 빌드, 배포 측면에서 더 유리하다.
- 도커파일은 한 줄이 하나의 명령어
- 기초적인 명령어 FROM, RUN, ADD

도커파일을 사용하기 위해 웹서버 이미지를 생성하는 예제

```java
mkdir dockerfile && cd dockerfile
echo test >> test.html

ls
```

```java
vi Dockerfile

FROM ubuntu:14.04
MAINTAINER alicek106
LABEL "purpose"="practice"
RUN apt-get update
RUN apt-get install apache2 -y
ADD test.html /var/www/html
WORKDIR /var/www/html
RUN ["/bin/bash", "-c", "echo hello >> test2.html"]
EXPOSE 80
CMD apachectl -DFOREGROUND

/*
FROM: 생성할 이미지의 베이스가 될 이미지. 반드시 입력해야한다.
MAINTAINER: 이미지 생성한 개발자의 정보
LABEL: 이미지에 메타데이터 추가. 키:값 형태
RUN: 이미지 만들기 위해 컨테이너 내부에서 명령어 실행
ADD: 파일을 이미지에 추가
WORKDIR: 명령어 실행할 디렉터리
EXPOSE: 도커파일의 빌드로 생성된 이미지에서 노출할 포트
CMD: 컨테이너가 시작될 때마다 실행할 명령어
*/
```

도커파일 빌드하기

```java
docker build -t mybuild:0.0 ./

```
